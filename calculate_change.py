data = {
    "SST-2": {
        "DLG": {"R-1": [57.7, 39.1, 38.7, 36.6], "R-2": [11.7, 7.6, 6.5, 4.7], "R-L": [48.2, 37.2, 36.4, 35.5]},
        "TAG": {"R-1": [71.8, 46.1, 44.5, 41.4], "R-2": [16.1, 10.9, 9.1, 6.7], "R-L": [54.4, 41.6, 40.1, 38.9]},
        "LAMP_COS": {"R-1": [87.7, 59.6, 48.9, 39.7], "R-2": [54.1, 26.5, 17.1, 10.0], "R-L": [76.4, 53.8, 45.4, 38.2]},
        "Ours_Tanh": {"R-1": [88.2, 66.4, 49.9, 43.5], "R-2": [56.9, 33.2, 15.6, 10.9], "R-L": [76.8, 61.2, 46.1, 40.5]},
        "Ours_ReLU": {"R-1": [88.5, 67.3, 50.4, 43.5], "R-2": [56.1, 32.6, 14.1, 11.2], "R-L": [77.1, 60.8, 46.2, 40.8]},
        "Ours_SeLU": {"R-1": [90.3, 71.0, 58.6, 45.4], "R-2": [59.0, 35.3, 26.3, 11.5], "R-L": [78.2, 63.4, 54.2, 43.2]},
        "Ours_x3x2": {"R-1": [93.1, 78.3, 60.6, 49.5], "R-2": [61.6, 40.9, 23.1, 16.5], "R-L": [81.5, 67.9, 54.9, 47.3]},
    },
    "Rotten Tomatoes": {
        "DLG": {"R-1": [20.1, 18.9, 18.7, 20.0], "R-2": [0.4, 0.6, 0.4, 0.3], "R-L": [15.2, 15.4, 15.7, 16.9]},
        "TAG": {"R-1": [31.7, 26.9, 27.9, 22.6], "R-2": [2.5, 1.0, 0.9, 0.8], "R-L": [20.1, 19.1, 20.2, 18.5]},
        "LAMP_COS": {"R-1": [63.4, 38.4, 24.6, 20.7], "R-2": [13.8, 6.4, 2.3, 0.7], "R-L": [42.6, 28.8, 20.0, 17.7]},
        "Ours_Tanh": {"R-1": [64.2, 38.8, 28.3, 22.4], "R-2": [15.5, 5.8, 2.4, 1.1], "R-L": [43.8, 28.9, 21.2, 18.9]},
        "Ours_ReLU": {"R-1": [64.1, 40.2, 31.1, 22.8], "R-2": [15.7, 5.4, 2.6, 1.3], "R-L": [44.2, 28.8, 23.6, 18.8]},
        "Ours_SeLU": {"R-1": [71.9, 48.1, 33.0, 24.6], "R-2": [19.2, 8.2, 4.23, 2.0], "R-L": [48.7, 34.2, 25.3, 20.6]},
        "Ours_x3x2": {"R-1": [72.2, 44.6, 29.9, 23.6], "R-2": [21.0, 7.0, 3.5, 1.7], "R-L": [49.3, 31.8, 24.3, 19.8]},
    },
   "CoLA": {
        "DLG": {"R-1": [59.3, 36.9, 35.3, 16.5], "R-2": [7.7, 2.6, 1.4, 0.8], "R-L": [46.2, 31.4, 31.9, 7.9]},
        "TAG": {"R-1": [78.9, 45.6, 35.3, 33.3], "R-2": [10.2, 4.6, 1.6, 1.6], "R-L": [53.3, 36.9, 31.3, 30.4]},
        "LAMP_COS": {"R-1": [84.8, 57.2, 40.4, 36.4], "R-2": [46.2, 21.9, 6.4, 5.1], "R-L": [73.1, 49.8, 36.2, 34.4]},
        "Ours_Tanh": {"R-1": [84.5, 56.9, 41.2, 37.2], "R-2": [46.1, 22.0, 7.8, 5.2], "R-L": [72.8, 49.6, 40.1, 34.4]},
        "Ours_ReLU": {"R-1": [84.5, 57.3, 42.3, 37.6], "R-2": [45.9, 19.3, 8.4, 5.6], "R-L": [72.6, 49.8, 40.1, 34.5]},
        "Ours_SeLU": {"R-1": [86.6, 69.5, 50.5, 40.8], "R-2": [51.5, 31.2, 11.8, 8.3], "R-L": [76.7, 60.6, 43.9, 38.1]},
        "Ours_x3x2": {"R-1": [84.6, 57.3, 43.9, 37.8], "R-2": [45.2, 19.2, 11.4, 5.9], "R-L": [72.4, 49.8, 40.1, 34.8]},
    }
}

import numpy as np

def calculate_avg_change(data, dataset, method):
    scores = data[dataset][method]
    lamp_cos_scores = data[dataset]["LAMP_COS"]
    avg_changes = {}

    for metric in scores.keys():
        avg_change = np.mean([m - l for m, l in zip(scores[metric], lamp_cos_scores[metric])])
        avg_changes[metric] = avg_change

    return avg_changes

for method in ["DLG", "TAG", "LAMP_COS", "Ours_Tanh", "Ours_ReLU", "Ours_SeLU", "Ours_x3x2"]:

    avg_change_dlg_sst2 = calculate_avg_change(data, "CoLA", method)
    print(f"Average Change for {method} in SST-2:", avg_change_dlg_sst2)
